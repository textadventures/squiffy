---
title: Dynamic text
sidebar:
    order: 2
---

import Sample from "@components/Sample.astro"
import {Aside} from "@astrojs/starlight/components"

<Aside type="tip">
For a complete reference of all available helpers, including attribute helpers, comparison helpers, and logic helpers, see the [Helpers reference](/helpers-reference/) page.
</Aside>

## Random

Use the `{{random}}` helper to insert random text. You can provide a list of options using the `array` function.
To store the result in an [attribute](/attributes/), use the `set` option.

<Sample script="It's another {{random (array &quot;Monday&quot; &quot;Tuesday&quot; &quot;Wednesday&quot; &quot;Thursday&quot; &quot;Friday&quot; &quot;Saturday&quot; &quot;Sunday&quot;)}} in the city.

    The weather is {{random (array &quot;sunny&quot; &quot;cloudy&quot; &quot;rainy&quot; &quot;windy&quot; &quot;snowy&quot;) set=&quot;weather&quot;}}.

    It feels like it's always {{weather}} here.

    +++Continue...

    The weather is still {{weather}}.
"></Sample>

## Animation

<Sample alwaysShowRestart={true} script="You can animate text like this:

    {{#animate &quot;typewriter&quot;}}This is animated text using a typewriter effect.{{/animate}}

    +++Continue...

    There are other effects you can use too:

    {{#animate &quot;toast&quot;}}This is animated text using a toast effect.{{/animate}}

    Be careful not to overuse them though!
"></Sample>

Squiffy includes [Anime.js](https://animejs.com/), and you can define your own custom animations by setting them up in a `@ui` section. See the [example on GitHub](https://github.com/textadventures/squiffy/tree/main/examples/animate).

### Click to continue

Animations are queued and play sequentially. Sometimes you want to pause the queue and let the reader control when to continue. The `continue` animation displays text as a clickable link that resumes the animation queue when clicked.

<Sample alwaysShowRestart={true} script="The door creaked open slowly...

    {{#animate &quot;continue&quot;}}Step inside{{/animate}}

    {{#animate &quot;fadeIn&quot;}}You enter a dark room. Shadows dance on the walls.{{/animate}}
"></Sample>

The `continue` animation supports different visual styles via the `style` parameter:

- `pulse` (default) - the text fades in and out
- `glow` - a pulsing blue glow effect
- `bounce` - subtle vertical bouncing
- `wave` - opacity ripples through each character

<Sample alwaysShowRestart={true} script="Choose your adventure...

    {{#animate &quot;continue&quot; style=&quot;wave&quot;}}Enter the cave{{/animate}}

    {{#animate &quot;typewriter&quot;}}You venture into the darkness...{{/animate}}
"></Sample>

## Replace

By creating labels, you can replace existing output when a link is clicked or when a passage or section is displayed. In the example below, we create a label called "1" using `{{#label}}`, and in the next passage we replace the text inside that label:

<Sample script="I walked to the shops and I bought {{#label &quot;1&quot;}}a pint of milk{{/label}}.

    Or maybe I bought [something different]?

    [something different]:
    {{#replace &quot;1&quot;}}a loaf of bread{{/replace}}"></Sample>

The replacement text can include links to other passages or sections:

<Sample script="I walked to the shops and I {{#label &quot;1&quot;}}bought a pint of milk{{/label}}.

    But I was [thinking]...

    [thinking]:
    {{#replace &quot;1&quot;}}suddenly thought, hang on, I could [[go to the funfair]] or [[join the circus]] instead.{{/replace}}

    [[go to the funfair]]:
    Off I went to the funfair...

    [[join the circus]]:
    Off I went to the circus..."></Sample>

## Rotate

For a text link that replaces itself each time it is clicked:

<Sample script="{{rotate (array &quot;one&quot; &quot;two&quot; &quot;three&quot;)}}"></Sample>

You can store the result in an [attribute](/attributes/):

<Sample script="Please choose: {{rotate (array &quot;small&quot; &quot;medium&quot; &quot;large&quot;) set=&quot;size&quot;}}

        +++Then continue...

        You chose {{size}}."></Sample>

You might want the link to display the _next_ option, rather than the current one. Use the `show="next"` option for this:

<Sample script="Current size: {{live &quot;size&quot;}}.

        Change size: {{rotate (array &quot;small&quot; &quot;medium&quot; &quot;large&quot;) set=&quot;size&quot; show=&quot;next&quot;}}

        +++Or pick this one...

        You chose {{size}}."></Sample>

## Sequence

If you don't want a rotating list, use a sequence instead. The final option won't be a link.

<Sample script="{{sequence (array &quot;Ready&quot; &quot;Steady&quot; &quot;Go&quot;)}}"></Sample>

As a variation on this, you can use a section link as the final option in a sequence.

<Sample script="{{sequence (array &quot;Click me&quot; &quot;Click me again&quot; (section &quot;next&quot; text=&quot;And once more&quot;))}}

        [[next]]:
        Done!"></Sample>

## Live

Using `{{live}}`, you can change text that is already on-screen when an [attribute](/attributes/) value changes.

In this example, notice how the static `{{count}}` does not change, but the live `{{live "count"}}` does as the `count` attribute is incremented.

<Sample script="@set count = 0

    This is static: {{count}}.

    This is live: {{live &quot;count&quot;}}.

    +++Continue
    @inc count

    Now count is {{count}}.

    +++Continue
    @inc count

    Now count is {{count}}."></Sample>

Here we combine `{{live}}` with `{{rotate}}` to create a button that cycles through options. Instead of simply
displaying the attribute value, we use the `section` parameter to display text which can itself contain
further helpers.

<Sample script="Choose a colour: {{rotate (array &quot;red&quot; &quot;green&quot; &quot;blue&quot;) set=&quot;colour&quot;}}

        {{live &quot;colour&quot; section=&quot;colourDescription&quot;}}

        [[colourDescription]]:
        {{#if (eq colour &quot;red&quot;)}}
            The colour of fire and blood.
        {{else if (eq colour &quot;green&quot;)}}
            The colour of nature and life.
        {{else if (eq colour &quot;blue&quot;)}}
            The colour of the sky and the sea.
        {{/if}}"></Sample>